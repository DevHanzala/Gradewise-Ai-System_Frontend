import{l as g,a as h,r as l,j as e,N as c,c as p,L as j,g as x,k as b,e as i,m as y,n as N}from"./index-BE97Blc-.js";function w(){const[m]=g(),a=m.get("token"),n=h(d=>d.verifyEmail),[u,o]=l.useState(!0),[s,r]=l.useState(null);l.useEffect(()=>{(async()=>{if(!a){r({success:!1,message:"Invalid verification link - no token provided.",status:"no_token"}),o(!1);return}try{const t=await n(a);r(t)}catch(t){console.error("Verification error:",t),t.response&&t.response.data?r(t.response.data):r({success:!1,message:`An unexpected error occurred during verification: ${t.message}`,status:"network_error"})}finally{o(!1)}})()},[a,n]);const f=s?.success||["already_verified","just_verified","already_used"].includes(s?.status);return u?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col",children:[e.jsx(c,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-8 sm:p-10 rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-md text-center border-2 border-gray-200",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 w-20 h-20 sm:w-24 sm:h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(p,{className:"text-4xl sm:text-5xl text-blue-600"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Email Verification"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{size:"lg",color:"blue",type:"dots"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"Verifying your email..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please wait a moment"})]})]})}),e.jsx(x,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex flex-col",children:[e.jsx(c,{}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-8 sm:p-10 rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-md text-center border-2 border-gray-200",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-8",children:"Email Verification"}),f?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 w-20 h-20 sm:w-24 sm:h-24 rounded-full flex items-center justify-center mx-auto shadow-lg",children:e.jsx(b,{className:"text-5xl sm:text-6xl text-green-600 animate-bounce"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-green-600",children:"Verification Successful!"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.message}),s.user&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-4 sm:p-5",children:e.jsxs("p",{className:"text-green-800 text-sm sm:text-base",children:[e.jsxs("strong",{className:"text-lg",children:["Welcome ",s.user.name,"! ðŸŽ‰"]}),e.jsx("br",{}),"Your account is verified and ready to use."]})}),s.status==="already_used"&&e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-4 sm:p-5",children:e.jsxs("p",{className:"text-blue-800 text-sm sm:text-base",children:[e.jsx("strong",{children:"âœ¨ Good news!"})," This verification link was already used successfully. Your account is active."]})}),e.jsxs(i,{to:"/login",className:"inline-flex items-center gap-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 sm:py-4 px-6 sm:px-8 rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all duration-200 font-bold text-base sm:text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[e.jsx("span",{children:"Go to Login"}),e.jsx(y,{})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-red-100 to-pink-100 w-20 h-20 sm:w-24 sm:h-24 rounded-full flex items-center justify-center mx-auto shadow-lg",children:e.jsx(N,{className:"text-5xl sm:text-6xl text-red-600"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-red-600",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s?.message||"An unknown error occurred."}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-2 border-gray-200 rounded-xl p-4 sm:p-5 text-left",children:[e.jsx("p",{className:"text-gray-800 text-sm font-bold mb-3",children:"ðŸ”§ What to try:"}),e.jsxs("ul",{className:"text-gray-700 text-sm space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),e.jsx("span",{children:"Check if you have a newer verification email"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),e.jsx("span",{children:"Try signing up again if needed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-600 mt-0.5",children:"â€¢"}),e.jsx("span",{children:"Contact support if the issue persists"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(i,{to:"/login",className:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-bold shadow-lg",children:"Try Login"}),e.jsx(i,{to:"/signup",className:"inline-flex items-center justify-center gap-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white py-3 px-6 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 font-bold shadow-lg",children:"Sign Up Again"})]})]})]})}),e.jsx(x,{})]})}export{w as default};
